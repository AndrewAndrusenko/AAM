<mat-toolbar color="primary" mat-stretch-tabs class="example-stretched-tabs mat-elevation-z4"
cdkDrag
cdkDragRootElement=".cdk-overlay-pane" 
cdkDragHandle>
  <span>{{action}} Schedule ID {{idfee_scedule?.value}}</span>
  <span class="example-spacer"></span>
</mat-toolbar>
<button mat-raised-button color="primary" 
  [disabled]="!(FeesSchedulesForm.valid && submitbox.checked)"
  (click)="updateScheduleData(action)"
  style="margin-top: 1px; width: 20%; margin-left: 1%;">
  {{action}} Schedule 
</button>
<mat-checkbox style= "padding: 1%;" #submitbox checked="false" 
  (click)=" FeesSchedulesForm.markAllAsTouched();
  FeesSchedulesForm.markAllAsTouched();"
  >Submit Data
</mat-checkbox>
<form  [formGroup]="FeesSchedulesForm">
  <mat-form-field style="width: 10%;" title="Fee Rate">
    <mat-label>Fee Rate</mat-label>
    <input matInput placeholder="feevalue" formControlName="feevalue">
    <mat-error  *ngIf="feevalue.errors?.['required']">
      Required!    
    </mat-error>
  </mat-form-field>
  <mat-form-field  style="width: 10%;" title="Fee Value Type">
    <mat-label>Fee Value Type</mat-label>
    <mat-select  #actionT formControlName="fee_type_value"  > 
      <mat-option [value]="1">Percent</mat-option>
      <mat-option [value]="2">Absolute</mat-option>
    </mat-select>
    <mat-error  *ngIf="fee_type_value.errors?.['required']">
      Required!    
    </mat-error>
  </mat-form-field>
  <mat-form-field style="width: 11%;" title="Range Min">
    <mat-label>Range Min</mat-label>
    <input matInput  formControlName="schedule_range_min">
    <mat-error  *ngIf="schedule_range_min.errors?.['required']">
      Required!    
    </mat-error>
  </mat-form-field>
  <mat-form-field style="width: 14%;" title="Range Max">
    <mat-label>Range Max</mat-label>
    <input matInput  formControlName="schedule_range_max">
    <mat-error  *ngIf="schedule_range_max.errors?.['required']">
      Required!    
    </mat-error>
  </mat-form-field>
  <mat-form-field  style="width: 12%;" title="Range Value">
    <mat-label>Range Value</mat-label>
    <mat-select formControlName="range_parameter"  > 
      <mat-option [value]="'NPV'">NPV</mat-option>
      <mat-option [value]="'PnL'">PnL</mat-option>
    </mat-select>
    <mat-error *ngIf="range_parameter.errors?.['required']">
      Required!    
    </mat-error>
  </mat-form-field>
  <mat-form-field  style="width: 12%;" title="High Water Mark">
    <mat-label>High Water Mark</mat-label>
    <mat-select formControlName="highwatermark"  > 
      <mat-option [value]="true">Applied</mat-option>
      <mat-option [value]="false">Not applied</mat-option>
    </mat-select>
  </mat-form-field>
  <mat-form-field style="width: 10%;" title="Hurdle">
    <mat-label>Hurdle</mat-label>
    <input matInput placeholder="Hurdle" formControlName="pf_hurdle">
  </mat-form-field>
  <mat-label class="mat-form-field">Range: {{schedule_range_min.value|currency}}...{{schedule_range_max.value|currency}}</mat-label>
  <h4 style="margin-left: 0.5%;" class="warn-color"  *ngIf="FeesSchedulesForm.invalid"> Please check the form. Data is invalid</h4>
</form>